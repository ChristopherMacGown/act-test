on: 
  - push
jobs:
  lint:
    strategy:
      matrix:
        linter:
          - package: ruff
            command: ruff check --verbose .
          - package: black
            command: black --check .
    uses: ./.github/workflows/lint-python.yml
    with:
      linter: ${{ matrix.linter.package }}
      command: ${{ matrix.linter.command }}
  fix-if-lint-failed:
    needs: ["lint"]
    if: failure()
    uses: ./.github/workflows/reusable.yml
    with:
     message: ${{ needs.lint.outputs.failed }} Failed!